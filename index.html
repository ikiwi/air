<html>
	
    <head>
	
	<link rel="stylesheet" type="text/css" href="style.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	    
    </head>
	
    <body>
    <h1> Air Quality Sensor Database </h1>
    <title>Air Quality Sensor Database</title>
    <p>CO2: <label id="co2Label"></label> </p>
    <p>TVOC: <label id="tvocLabel"></label> </p>
    <p>Temp: <label id="tempLabel"></label> </p>
    <p>Time: <label id="timeLabel"></label> </p>
    <div id="map"></div>
	    <script>
  // Initialize Firebase
var map;

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 32.7157, lng: 117.1611},
          zoom: 12
        });

        $.ajax({url: "https://airquality-8059.firebaseio.com/data.json", success: function(result1) {
            console.log(result1);
            // jquery
            $.each(result1, function(key, value) {

              var result = value;

              console.log(result.CO2);
              console.log(result.TVOC);
              console.log(result.Temp);
              console.log(result.time);
              //console.log(result.lat);
              //console.log(result.lon);

              $("#co2Label").text(result.CO2);
              $("#tvocLabel").text(result.TVOC);
              $("#tempLabel").text(result.Temp);
              $("#timeLabel").text(result.time);
              
              // The location of Uluru
              var uluru = {lat: result.lat, lng: result.lon};
              var marker = new google.maps.Marker({
                  position: uluru, 
                  map: map,
                  title: "Airpi",
                  draggable: true,
                  animation: google.maps.Animation.DROP
              });            
            });
        }});        
      }
</script>
	     <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBwxvMl3ZCLS87abguRfb-cyfwuyUE4OVM&callback=initMap"
    async defer></script>

</body>
</html>

